<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1 user-scalable=no">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/swiper.min.css">           <!--轮播插件样式-->
    <link rel="stylesheet" href="css/common.css">               <!--公共样式-->
    <link rel="stylesheet" href="css/home.css">                 <!--首页样式-->

    <!--[if lt IE 9]>
    <script src="js/html5shiv.min.js"></script>
    <script src="js/response.min.js"></script>
    <![endif]-->

    <script src="js/jquery-3.2.0.js"></script>
    <script src="js/swiper.min.js"></script>                <!--轮播插件-->

    <style>
        #swiper-container2 .swiper-slide {
            background: #d4d4d4;
        }
        #swiper-container2 .active-nav {
            background: #333;
        }
    </style>
</head>
<body class="home">
<div class="swiper-container" id="swiper-container2">
    <div class="swiper-wrapper">
        <div class="swiper-slide">
            版块1</div>
        <div class="swiper-slide">
            版块2</div>
        <div class="swiper-slide active-nav">
            版块3</div>
    </div>
</div>

<div class="swiper-container" id="swiper-container3" style="width:480px;">
    <div class="swiper-wrapper">
        <div class="swiper-slide">
            slider1</div>
        <div class="swiper-slide">
            slider2</div>
        <div class="swiper-slide">
            slider3</div>
    </div>
</div>

<script>
    var mySwiper2 = new Swiper('#swiper-container2',{
        watchSlidesProgress : true,
        watchSlidesVisibility : true,
        slidesPerView : 3,
        freeMode : false,
        on:{
            tap: function(){
                mySwiper3.slideTo( mySwiper2.clickedIndex)
            }
        }
    })
    var mySwiper3 = new Swiper('#swiper-container3',{

        on:{slideChangeTransitionStart: function(){
            updateNavPosition()
        }
        }

    })

    function updateNavPosition(){
        $('#swiper-container2 .active-nav').removeClass('active-nav')
        var activeNav = $('#swiper-container2 .swiper-slide').eq(mySwiper3.activeIndex).addClass('active-nav');


        if (!activeNav.hasClass('swiper-slide-visible')) {
            console.log(1);
            if (activeNav.index()>mySwiper2.activeIndex) {
                console.log(2);
                var thumbsPerNav = Math.floor(mySwiper2.width/activeNav.width())-1
                mySwiper2.slideTo(activeNav.index()-thumbsPerNav)
            }
            else {
                console.log(3);
                mySwiper2.slideTo(activeNav.index())
            }
        }
    }

</script>
</body>
</html>